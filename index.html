<!DOCTYPE html>
<html>
  <head>
    <base target="_top" />
  </head>
  <body>
    <style>
      select {
        font-size: 200%;
      }
      input {
        font-size: 200%;
        width: 400px;
      }
      body {
        font-size: 200%;
      }
      p {
        font-size: 200%;
      }
      span {
        font-size: 200%;
      }
      button {
        font-size: 200%;
        width: 500px;
      }
      .inputtext {
        font-size: 200%;
        width: 400px;
      }
      .inputimg {
        width: 200px;
      }
    </style>
    <h2>"Pass The Pigs" Swineherd (Scorekeeper) Web App</h2>
    <label for="playerCount"> Select number of players/teams: </label>
    <select id="playerCount" name="playerCount">
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
    <option value="9">9</option>
    <option value="10">10</option>
    </select>
    <span>  </span>
    <input 
        id="submitBtn" 
        type="submit" 
        value="Submit" 
        onclick="playerSet()" />
    <div id="p1Div" hidden>
    <label id="p1InputLabel" for="player1Input"> Player/team 1: </label>
    <input class="inputtext" type="text" id="player1Input" name="player1Input"/>
    <label id="p1ScoreLabel" for="player1Score"> score: </label>
    <span id="player1Score">0</span>
    </div>
    <div id="p2Div" hidden>
    <label id="p2InputLabel" for="player2Input"> Player/team 2: </label>
    <input class="inputtext" type="text" id="player2Input" name="player2Input"/>
    <label id="p2ScoreLabel" for="player2Score"> score: </label>
    <span id="player2Score">0</span>
    </div>
    <div id="p3Div" hidden>
    <label id="p3InputLabel" for="player3Input"> Player/team 3: </label>
    <input class="inputtext" type="text" id="player3Input" name="player3Input"/>
    <label id="p3ScoreLabel" for="player3Score"> score: </label>
    <span id="player3Score">0</span>
    </div>
    <div id="p4Div" hidden>
    <label id="p4InputLabel" for="player4Input"> Player/team 4: </label>
    <input class="inputtext" type="text" id="player4Input" name="player4Input"/>
    <label id="p4ScoreLabel" for="player4Score"> score: </label>
    <span id="player4Score">0</span>
    </div>
    <div id="p5Div" hidden>
    <label id="p5InputLabel" for="player5Input"> Player/team 5: </label>
    <input class="inputtext" type="text" id="player5Input" name="player5Input"/>
    <label id="p5ScoreLabel" for="player5Score"> score: </label>
    <span id="player5Score">0</span>
    </div>
    <div id="p6Div" hidden>
    <label id="p6InputLabel" for="player6Input"> Player/team 6: </label>
    <input class="inputtext" type="text" id="player6Input" name="player6Input"/>
    <label id="p6ScoreLabel" for="player6Score"> score: </label>
    <span id="player6Score">0</span>
    </div>
    <div id="p7Div" hidden>
    <label id="p7InputLabel" for="player7Input"> Player/team 7: </label>
    <input class="inputtext" type="text" id="player7Input" name="player7Input"/>
    <label id="p7ScoreLabel" for="player7Score"> score: </label>
    <span id="player7Score">0</span>
    </div>
    <div id="p8Div" hidden>
    <label id="p8InputLabel" for="player8Input"> Player/team 8: </label>
    <input class="inputtext" type="text" id="player8Input" name="player8Input"/>
    <label id="p8ScoreLabel" for="player8Score"> score: </label>
    <span id="player8Score">0</span>
    </div>
    <div id="p9Div" hidden>
    <label id="p9InputLabel" for="player9Input"> Player/team 9: </label>
    <input class="inputtext" type="text" id="player9Input" name="player9Input"/>
    <label id="p9ScoreLabel" for="player9Score"> score: </label>
    <span id="player9Score">0</span>
    </div>
    <div id="p10Div" hidden>
    <label id="p10InputLabel" for="player10Input"> Player/team 10: </label>
    <input class="inputtext" type="text" id="player10Input" name="player10Input"/>
    <label id="p10ScoreLabel" for="player10Score"> score: </label>
    <span id="player10Score">0</span>
    </div>

    <p id="result"></p>
    <p id="dbgmsg" hidden></p>
    <p id="action"></p>

    <div id="btnDiv">
      <div id="passDiv" hidden>
        <button type="button" onclick="pass()"><br><b>Pass The Pigs</b><br><br></button>
      </div>

      <div id="pigoutDiv" hidden>
        <button type="button" onclick="startTurn()"><b>Pig Out</b><br>Lose all points<br>from your turn</button>
      </div>

      <div id="siderDiv" hidden>
        <button type="button" onclick="addPoints(1)"><b>Sider</b><br>1 point</button>
      </div>

      <div id="razorbackDiv" hidden>
        <button type="button" onclick="addPoints(5)"><b>Razorback</b><br>5 points</button>
      </div>

      <div id="trotterDiv" hidden>
        <button type="button" onclick="addPoints(5)"><b>Trotter</b><br>5 points</button>
      </div>

      <div id="snouterDiv" hidden>
        <button type="button" onclick="addPoints(10)"><b>Snouter</b><br>10 points</button>
      </div>

      <div id="jowlerDiv" hidden>
        <button type="button" onclick="addPoints(15)"><b>Leaning Jowler</b><br>15 points</button>
      </div>

      <div id="trotterrazorbackDiv" hidden>
        <button type="button" onclick="addPoints(10)"><b>Trotter + Razorback</b><br>10 points</button>
      </div>

      <div id="snoutertrotterDiv" hidden>
        <button type="button" onclick="addPoints(15)"><b>Snouter + Trotter</b><br>15 points</button>
      </div>

      <div id="snouterrazorbackDiv" hidden>
        <button type="button" onclick="addPoints(15)"><b>Snouter + Razorback</b><br>15 points</button>
      </div>

      <div id="trotterjowlerDiv" hidden>
        <button type="button" onclick="addPoints(20)"><b>Trotter + Leaning Jowler</b><br>20 points</button>
      </div>

      <div id="razorbackjowlerDiv" hidden>
        <button type="button" onclick="addPoints(20)"><b>Razorback + Leaning Jowler</b><br>20 points</button>
      </div>

      <div id="snouterjowlerDiv" hidden>
        <button type="button" onclick="addPoints(25)"><b>Snouter + Leaning Jowler</b><br>25 points</button>
      </div>

      <div id="dtrotterDiv" hidden>
        <button type="button" onclick="addPoints(20)"><b>Double Trotter</b><br>20 points</button>
      </div>

      <div id="dsnouterDiv" hidden>
        <button type="button" onclick="addPoints(40)"><b>Double Snouter</b><br>40 points</button>
      </div>

      <div id="drazorbackDiv" hidden>
        <button type="button" onclick="addPoints(20)"><b>Double Razorback</b><br>20 points</button>
      </div>

      <div id="djowlerDiv" hidden>
        <button type="button" onclick="addPoints(60)"><b>Double Leaning Jowler</b><br>60 points</button>
      </div>

      <div id="oinkerDiv" hidden>
        <button type="button" onclick="oinker()"><b>Oinker</b><br>Lose all points</button>
      </div>

      <div id="piggybackDiv" hidden>
        <button type="button" onclick="oinker()"><b>Piggy Back</b><br>Out of game</button>
      </div>
    </div>

    <table id="imgDiv">
    <tr>
     <td>
      <div id="ipassDiv" hidden>
      <input class="inputimg" type="image" src="img/pass.jpg" onclick="pass()" />
      </div>
     </td>
     <td>
      <div id="ipigoutDiv" hidden>
      <input class="inputimg" type="image" src="img/pigout.jpg" onclick="startTurn()" />
      </div>
     </td>
     <td>
      <div id="isiderDiv" hidden>
      <input class="inputimg" type="image" src="img/sider.jpg" onclick="addPoints(1)" />
      </div>
     </td>
    </tr>
    <tr>
     <td>
      <div id="irazorbackDiv" hidden>
      <input class="inputimg" type="image" src="img/razorback.jpg" onclick="addPoints(5)" />
      </div>
     </td>
     <td>
      <div id="itrotterDiv" hidden>
      <input class="inputimg" type="image" src="img/trotter.jpg" onclick="addPoints(5)" />
      </div>
     </td>
     <td>
      <div id="isnouterDiv" hidden>
      <input class="inputimg" type="image" src="img/snouter.jpg" onclick="addPoints(10)" />
      </div>
     </td>
    </tr>
    <tr>
     <td>
      <div id="ijowlerDiv" hidden>
      <input class="inputimg" type="image" src="img/jowler.jpg" onclick="addPoints(15)" />
      </div>
     </td>
     <td>
      <div id="itrotterrazorbackDiv" hidden>
      <input class="inputimg" type="image" src="img/tr.jpg" onclick="addPoints(10)" />
      </div>
     </td>
     <td>
      <div id="isnoutertrotterDiv" hidden>
      <input class="inputimg" type="image" src="img/st.jpg" onclick="addPoints(15)" />
      </div>
     </td>
    </tr>
    <tr>
     <td>
      <div id="isnouterrazorbackDiv" hidden>
      <input class="inputimg" type="image" src="img/sr.jpg" onclick="addPoints(15)" />
      </div>
     </td>
     <td>
      <div id="itrotterjowlerDiv" hidden>
      <input class="inputimg" type="image" src="img/tj.jpg" onclick="addPoints(20)" />
      </div>
     </td>
     <td>
      <div id="irazorbackjowlerDiv" hidden>
      <input class="inputimg" type="image" src="img/rj.jpg" onclick="addPoints(20)" />
      </div>
     </td>
    </tr>
    <tr>
     <td>
      <div id="isnouterjowlerDiv" hidden>
      <input class="inputimg" type="image" src="img/sj.jpg" onclick="addPoints(25)" />
      </div>
     </td>
     <td>
      <div id="idtrotterDiv" hidden>
      <input class="inputimg" type="image" src="img/dt.jpg" onclick="addPoints(20)" />
      </div>
     </td>
     <td>
      <div id="idsnouterDiv" hidden>
      <input class="inputimg" type="image" src="img/ds.jpg" onclick="addPoints(40)" />
      </div>
     </td>
    </tr>
    <tr>
     <td>
      <div id="idrazorbackDiv" hidden>
      <input class="inputimg" type="image" src="img/dr.jpg" onclick="addPoints(20)" />
      </div>
     </td>
     <td>
      <div id="idjowlerDiv" hidden>
      <input class="inputimg" type="image" src="img/dj.jpg" onclick="addPoints(60)" />
      </div>
     </td>
     <td>
      <div id="ioinkerDiv" hidden>
      <input class="inputimg" type="image" src="img/oinker.jpg" onclick="oinker()" />
      </div>
     </td>
    </tr>
    <tr>
     <td>
      <div id="ipiggybackDiv" hidden>
      <input class="inputimg" type="image" src="img/piggyback.jpg" onclick="oinker()" />
      </div>
     </td>
    </tr>
    </table>

    <label id="checkboxLabel" for="textOnlyInput"> Images on/off: </label>
    <input type="checkbox" id="modeCheck" id="textOnlyInput" onclick="onTextOnly()" checked/>
  </body>

  <script>
    function playerCount() {
      if (typeof(Storage) !== "undefined") {
        if (sessionStorage.playerCount) {
          document.querySelector('#playerCount').value = sessionStorage.playerCount;
          for (let i = 1; i <= 10; i++) {
            let nameI = "player" + i + "Input";
            let nameS = "player" + i + "Name";
            let nameP = "player" + i + "Score";
            document.getElementById(nameI).value = sessionStorage.getItem(nameS);
            document.getElementById(nameP).innerText = sessionStorage.getItem(nameP);
          }
        } else {
          sessionStorage.playerCount = document.querySelector('#playerCount').value;
          sessionStorage.currentPlayer = 0;
        }
      }
      let number = document.querySelector('#playerCount').value;
      if (number > 9) {document.getElementById("p10Div").removeAttribute("hidden"); } else { document.getElementById("p10Div").setAttribute("hidden","hidden"); }
      if (number > 8) {document.getElementById("p9Div").removeAttribute("hidden"); } else { document.getElementById("p9Div").setAttribute("hidden","hidden"); }
      if (number > 7) {document.getElementById("p8Div").removeAttribute("hidden"); } else { document.getElementById("p8Div").setAttribute("hidden","hidden"); }
      if (number > 6) {document.getElementById("p7Div").removeAttribute("hidden"); } else { document.getElementById("p7Div").setAttribute("hidden","hidden"); }
      if (number > 5) {document.getElementById("p6Div").removeAttribute("hidden"); } else { document.getElementById("p6Div").setAttribute("hidden","hidden"); }
      if (number > 4) {document.getElementById("p5Div").removeAttribute("hidden"); } else { document.getElementById("p5Div").setAttribute("hidden","hidden"); }
      if (number > 3) {document.getElementById("p4Div").removeAttribute("hidden"); } else { document.getElementById("p4Div").setAttribute("hidden","hidden"); }
      if (number > 2) {document.getElementById("p3Div").removeAttribute("hidden"); } else { document.getElementById("p3Div").setAttribute("hidden","hidden"); }
      document.getElementById("p2Div").removeAttribute("hidden");
      document.getElementById("p1Div").removeAttribute("hidden");
      let result = 'The number of players is ' + number + '. Enter names and click Pass the Pigs.';
      document.getElementById("result").innerHTML = result;
      document.getElementById("passDiv").removeAttribute("hidden");
      document.getElementById("ipassDiv").removeAttribute("hidden");
      if (document.getElementById('modeCheck').checked) {
        document.getElementById("imgDiv").removeAttribute("hidden");
        document.getElementById("btnDiv").setAttribute("hidden","hidden");
      } else {
        document.getElementById("btnDiv").removeAttribute("hidden");
        document.getElementById("imgDiv").setAttribute("hidden","hidden");
      }
    }
    function startTurn() {
        if (typeof(Storage) !== "undefined") {
          if (sessionStorage.currentPlayer) {
            sessionStorage.currentPlayer = Number(sessionStorage.currentPlayer)+1;
          } else {
            sessionStorage.currentPlayer = 1;
          }
          sessionStorage.currentScore = 0;
          let num = Number(sessionStorage.currentPlayer);
          let number = Number(document.querySelector('#playerCount').value);
          if (num > number) { num = 1; }
          if (num == 1) {
            let pNameId = "player" + number + "Input";
            document.getElementById(pNameId).style.backgroundColor = "white";
            document.getElementById(pNameId).style.color = "black";
          } else {
            let pNameId = "player" + (num - 1) + "Input";
            document.getElementById(pNameId).style.backgroundColor = "white";
            document.getElementById(pNameId).style.color = "black";
          }
          sessionStorage.currentPlayer = num;
          let pNameId = "player" + num + "Input";
          let pName = document.getElementById(pNameId).value;
          let cs = Number(sessionStorage.currentScore);
          document.getElementById(pNameId).style.backgroundColor = "green";
          document.getElementById(pNameId).style.color = "white";
          document.querySelector('#action').innerHTML = pName + " has the pigs. Turn score is " + cs + ". Toss the pigs and select how they landed..."
          document.getElementById("pigoutDiv").removeAttribute("hidden");
          document.getElementById("siderDiv").removeAttribute("hidden");
          document.getElementById("razorbackDiv").removeAttribute("hidden");
          document.getElementById("trotterDiv").removeAttribute("hidden");
          document.getElementById("snouterDiv").removeAttribute("hidden");
          document.getElementById("jowlerDiv").removeAttribute("hidden");
          document.getElementById("trotterrazorbackDiv").removeAttribute("hidden");
          document.getElementById("snoutertrotterDiv").removeAttribute("hidden");
          document.getElementById("snouterrazorbackDiv").removeAttribute("hidden");
          document.getElementById("trotterjowlerDiv").removeAttribute("hidden");
          document.getElementById("razorbackjowlerDiv").removeAttribute("hidden");
          document.getElementById("snouterjowlerDiv").removeAttribute("hidden");
          document.getElementById("dtrotterDiv").removeAttribute("hidden");
          document.getElementById("dsnouterDiv").removeAttribute("hidden");
          document.getElementById("drazorbackDiv").removeAttribute("hidden");
          document.getElementById("djowlerDiv").removeAttribute("hidden");
          document.getElementById("oinkerDiv").removeAttribute("hidden");
          document.getElementById("piggybackDiv").removeAttribute("hidden");
          document.getElementById("passDiv").setAttribute("hidden","hidden");
          document.getElementById("ipigoutDiv").removeAttribute("hidden");
          document.getElementById("isiderDiv").removeAttribute("hidden");
          document.getElementById("irazorbackDiv").removeAttribute("hidden");
          document.getElementById("itrotterDiv").removeAttribute("hidden");
          document.getElementById("isnouterDiv").removeAttribute("hidden");
          document.getElementById("ijowlerDiv").removeAttribute("hidden");
          document.getElementById("itrotterrazorbackDiv").removeAttribute("hidden");
          document.getElementById("isnoutertrotterDiv").removeAttribute("hidden");
          document.getElementById("isnouterrazorbackDiv").removeAttribute("hidden");
          document.getElementById("itrotterjowlerDiv").removeAttribute("hidden");
          document.getElementById("irazorbackjowlerDiv").removeAttribute("hidden");
          document.getElementById("isnouterjowlerDiv").removeAttribute("hidden");
          document.getElementById("idtrotterDiv").removeAttribute("hidden");
          document.getElementById("idsnouterDiv").removeAttribute("hidden");
          document.getElementById("idrazorbackDiv").removeAttribute("hidden");
          document.getElementById("idjowlerDiv").removeAttribute("hidden");
          document.getElementById("ioinkerDiv").removeAttribute("hidden");
          document.getElementById("ipiggybackDiv").removeAttribute("hidden");
          document.getElementById("ipassDiv").setAttribute("hidden","hidden");
          document.getElementById("result").setAttribute("hidden","hidden");
        } else {
          document.getElementById("result").innerHTML = "Sorry, your browser does not support web storage...";
        }
        window.scrollTo(0, 0);
    }
    function oinker() {
        let pScoreId = "player" + sessionStorage.currentPlayer + "Score";
        document.getElementById(pScoreId).innerText = "0";
        sessionStorage.setItem(pScoreId, document.getElementById(pScoreId).innerText);
        startTurn();
    }
    function pass() {
        let element = sessionStorage.currentPlayer;
        if (element != "0") {
          let pScoreId = "player" + element + "Score";
          let score = document.getElementById(pScoreId).innerText;
          let scoreVal = parseInt(score);
          let totScoreVal = Number(sessionStorage.currentScore) + scoreVal;
          document.getElementById(pScoreId).innerText = totScoreVal;
          sessionStorage.setItem(pScoreId, document.getElementById(pScoreId).innerText);
        } else {
          for (let i = 1; i <= 10; i++) {
            let nameI = "player" + i + "Input";
            let nameS = "player" + i + "Name";
            let nameP = "player" + i + "Score";
            sessionStorage.setItem(nameS, document.getElementById(nameI).value);
            sessionStorage.setItem(nameP, document.getElementById(nameP).innerText);
          }
        }
        startTurn();
    }
    function addPoints(number) {
        let totScoreVal = Number(sessionStorage.currentScore);
        totScoreVal = totScoreVal + number;
        sessionStorage.currentScore = totScoreVal;
        let element = sessionStorage.currentPlayer;
        let pNameId = "player" + element + "Input";
        let pScoreId = "player" + element + "Score";
        let score = sessionStorage.getItem(pScoreId);
        let scoreVal = parseInt(score);
        scoreVal = scoreVal + totScoreVal;
        let pName = document.getElementById(pNameId).value;
        document.querySelector('#action').innerHTML = pName + " has the pigs. Turn score is " + totScoreVal + ". Pass the pigs to increase score to " + scoreVal + ", OR toss the pigs again and select how they landed...";
        document.getElementById("passDiv").removeAttribute("hidden");
        document.getElementById("ipassDiv").removeAttribute("hidden");
        window.scrollTo(0, 0);
    }
    function initialize() {
      if (typeof(Storage) !== "undefined") {
        if (sessionStorage.imageOn) {
          let imgOn = sessionStorage.imageOn;
          if (imgOn != "0") {
            document.getElementById("modeCheck").checked = true;
          } else {
            document.getElementById("modeCheck").checked = false;
          }
        }
        if (sessionStorage.playerCount && sessionStorage.currentPlayer) {
          playerCount();
          sessionStorage.currentPlayer = Number(sessionStorage.currentPlayer) - 1;
          let cs = Number(sessionStorage.currentScore);
          startTurn();
          document.querySelector('#dbgmsg').innerHTML = "startTurn()";
          if (cs > 0) {
            sessionStorage.currentScore = cs;
            document.querySelector('#dbgmsg').innerHTML = "addPoints(0)";
            addPoints(0);
          }
        } else {
          sessionStorage.removeItem('playerCount');
          sessionStorage.removeItem('currentPlayer');
          if (document.getElementById("modeCheck").checked) {
            document.querySelector('#dbgmsg').innerHTML = "not stored 1";
          } else {
            document.querySelector('#dbgmsg').innerHTML = "not stored 0";
          }
        }
      }
    }
    function playerSet() {
      sessionStorage.removeItem('playerCount');
      sessionStorage.removeItem('currentPlayer');
      for (let i = 1; i <= 10; i++) {
        let nameI = "player" + i + "Input";
        let nameS = "player" + i + "Name";
        let nameP = "player" + i + "Score";
        sessionStorage.setItem(nameS, document.getElementById(nameI).value);
        document.getElementById(nameP).innerText = "0";
        sessionStorage.setItem(nameP, document.getElementById(nameP).innerText);
      }
      document.getElementById("pigoutDiv").setAttribute("hidden","hidden");
      document.getElementById("siderDiv").setAttribute("hidden","hidden");
      document.getElementById("razorbackDiv").setAttribute("hidden","hidden");
      document.getElementById("trotterDiv").setAttribute("hidden","hidden");
      document.getElementById("snouterDiv").setAttribute("hidden","hidden");
      document.getElementById("jowlerDiv").setAttribute("hidden","hidden");
      document.getElementById("trotterrazorbackDiv").setAttribute("hidden","hidden");
      document.getElementById("snoutertrotterDiv").setAttribute("hidden","hidden");
      document.getElementById("snouterrazorbackDiv").setAttribute("hidden","hidden");
      document.getElementById("trotterjowlerDiv").setAttribute("hidden","hidden");
      document.getElementById("razorbackjowlerDiv").setAttribute("hidden","hidden");
      document.getElementById("snouterjowlerDiv").setAttribute("hidden","hidden");
      document.getElementById("dtrotterDiv").setAttribute("hidden","hidden");
      document.getElementById("dsnouterDiv").setAttribute("hidden","hidden");
      document.getElementById("drazorbackDiv").setAttribute("hidden","hidden");
      document.getElementById("djowlerDiv").setAttribute("hidden","hidden");
      document.getElementById("oinkerDiv").setAttribute("hidden","hidden");
      document.getElementById("piggybackDiv").setAttribute("hidden","hidden");
      document.getElementById("passDiv").setAttribute("hidden","hidden");
      document.getElementById("ipigoutDiv").setAttribute("hidden","hidden");
      document.getElementById("isiderDiv").setAttribute("hidden","hidden");
      document.getElementById("irazorbackDiv").setAttribute("hidden","hidden");
      document.getElementById("itrotterDiv").setAttribute("hidden","hidden");
      document.getElementById("isnouterDiv").setAttribute("hidden","hidden");
      document.getElementById("ijowlerDiv").setAttribute("hidden","hidden");
      document.getElementById("itrotterrazorbackDiv").setAttribute("hidden","hidden");
      document.getElementById("isnoutertrotterDiv").setAttribute("hidden","hidden");
      document.getElementById("isnouterrazorbackDiv").setAttribute("hidden","hidden");
      document.getElementById("itrotterjowlerDiv").setAttribute("hidden","hidden");
      document.getElementById("irazorbackjowlerDiv").setAttribute("hidden","hidden");
      document.getElementById("isnouterjowlerDiv").setAttribute("hidden","hidden");
      document.getElementById("idtrotterDiv").setAttribute("hidden","hidden");
      document.getElementById("idsnouterDiv").setAttribute("hidden","hidden");
      document.getElementById("idrazorbackDiv").setAttribute("hidden","hidden");
      document.getElementById("idjowlerDiv").setAttribute("hidden","hidden");
      document.getElementById("ioinkerDiv").setAttribute("hidden","hidden");
      document.getElementById("ipiggybackDiv").setAttribute("hidden","hidden");
      document.getElementById("ipassDiv").setAttribute("hidden","hidden");
      document.getElementById("action").innerHTML = "";
      document.getElementById("result").removeAttribute("hidden");
      playerCount();
    }
    function onTextOnly() {
      if (document.getElementById("modeCheck").checked) {
        document.querySelector('#dbgmsg').innerHTML = "onTextOnly 1";
        sessionStorage.imageOn = "1";
      } else {
        document.querySelector('#dbgmsg').innerHTML = "onTextOnly 0";
        sessionStorage.imageOn = "0";
      }
      document.querySelector('#dbgmsg').innerHTML = sessionStorage.imageOn;
      initialize();
    }
    window.onload = initialize;
    </script>
  </body>
</html>